<?xml version="1.0"?>
<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.1.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.1.0 https://maven.apache.org/xsd/assembly-2.1.0.xsd">

  <id>dist</id>
  
  <formats>
    <format>zip</format>
  </formats>

  <moduleSets>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf:*</include>
      </includes>
      <binaries>
        <outputDirectory>/dist</outputDirectory>
        <unpack>false</unpack>
        <dependencySets>
          <dependencySet>
            <outputDirectory>/lib</outputDirectory>
            <scope>runtime</scope>
            <useProjectArtifact>false</useProjectArtifact>
            <excludes>
              <exclude>org.thymeleaf:*</exclude>
            </excludes>
          </dependencySet>
        </dependencySets>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf:*</include>
      </includes>
      <binaries>
        <attachmentClassifier>sources</attachmentClassifier>
        <outputDirectory>/dist</outputDirectory>
        <unpack>false</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf:*</include>
      </includes>
      <binaries>
        <attachmentClassifier>javadoc</attachmentClassifier>
        <outputDirectory>/dist</outputDirectory>
        <unpack>false</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf:*</include>
      </includes>
      <binaries>
        <attachmentClassifier>javadoc</attachmentClassifier>
        <outputDirectory>/apidocs/${module.artifactId}</outputDirectory>
        <unpack>true</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>



    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf.testing:*</include>
      </includes>
      <binaries>
        <outputDirectory>/testing/dist</outputDirectory>
        <unpack>false</unpack>
        <dependencySets>
          <dependencySet>
            <outputDirectory>/testing/lib</outputDirectory>
            <scope>runtime</scope>
            <useProjectArtifact>false</useProjectArtifact>
            <excludes>
              <exclude>org.thymeleaf:*</exclude>
              <exclude>org.thymeleaf.testing:*</exclude>
            </excludes>
          </dependencySet>
        </dependencySets>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf.testing:*</include>
      </includes>
      <binaries>
        <attachmentClassifier>sources</attachmentClassifier>
        <outputDirectory>/testing/dist</outputDirectory>
        <unpack>false</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf.testing:*</include>
      </includes>
      <binaries>
        <attachmentClassifier>javadoc</attachmentClassifier>
        <outputDirectory>/testing/dist</outputDirectory>
        <unpack>false</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf.testing:*</include>
      </includes>
      <binaries>
        <attachmentClassifier>javadoc</attachmentClassifier>
        <outputDirectory>/testing/apidocs/${module.artifactId}</outputDirectory>
        <unpack>true</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>



    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf.examples:*</include>
      </includes>
      <binaries>
        <outputDirectory>/examples/binaries</outputDirectory>
        <unpack>false</unpack>
        <includeDependencies>false</includeDependencies>
      </binaries>
    </moduleSet>

    <moduleSet>
      <useAllReactorProjects>true</useAllReactorProjects>
      <includes>
        <include>org.thymeleaf.examples:*</include>
      </includes>
      <excludes>
        <exclude>*:pom</exclude>
      </excludes>
      <sources>
        <includeModuleDirectory>false</includeModuleDirectory>
        <fileSets>
          <fileSet>
            <outputDirectory>/examples/sources/${module.basedir.name}</outputDirectory>
            <excludes>
              <exclude>${project.build.directory}/**</exclude>
              <exclude>**/*.iml</exclude>
              <exclude>.*</exclude>
            </excludes>
            <lineEnding>unix</lineEnding>
          </fileSet>
        </fileSets>
      </sources>
    </moduleSet>

  </moduleSets>




  <fileSets>
    <fileSet>
      <directory>${project.basedir}/..</directory>
      <outputDirectory>/</outputDirectory>
      <includes>
        <include>LICENSE.txt</include>
        <include>NOTICE.txt</include>
      </includes>
    </fileSet>
  </fileSets>

</assembly>
